<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body ng-controller="cartCtrl">
	<!-- Breadcrumb Start -->
	<div class="container-fluid">
		<div class="row px-xl-5">
			<div class="col-12">
				<nav class="breadcrumb bg-light mb-30">
					<a class="breadcrumb-item text-dark" href="#">Trang Chủ</a> <a
						class="breadcrumb-item text-dark" href="#">Cửa Hàng</a> <span
						class="breadcrumb-item active">Giỏ Hàng</span>
				</nav>
			</div>
		</div>
	</div>
	<!-- Breadcrumb End -->

	<!-- Cart Start -->
	<div class="container-fluid">
		<div class="row px-xl-5">
			<div class="col-lg-8 table-responsive mb-5">
				<table
					class="table table-light table-borderless table-hover text-center mb-0">
					<thead class="thead-dark">
						<tr>
							<th>Sản Phẩm</th>
							<th>Giá</th>
							<th>Số Lượng</th>
							<th>Tổng</th>
							<th>Xóa</th>
						</tr>
					</thead>
					<tbody class="align-middle">
						<tr ng-repeat="item in items">
							<td class="align-middle"><img ng-src="{{'/api/file/SanPham/'+item.sanPham.hinhAnh}}" alt=""
								style="width: 50px;">{{item.sanPham.tenSanPham}}</td>
							<td class="align-middle">{{item.sanPham.giaTien|number:2}} VND</td>
							<td class="align-middle">
								<div class="input-group quantity mx-auto" style="width: 100px;">
									<div class="input-group-btn">
										<button class="btn btn-sm btn-primary btn-minus" 
										ng-click="update_gh(item.maGioHang,item.maNd,item.maSp,item.soLuong-1,item.nguoiDung,item.sanPham)">
											<i class="fa fa-minus"></i>
										</button>
									</div>
									<!-- <input type="text" class="form-control form-control-sm bg-secondary border-0 text-center" value="1"> -->
									<input ng-change="cart.saveToLocalStorage()"
										ng-model="item.soLuong" type="text" readonly="readonly"
										class="form-control form-control-sm bg-secondary border-0 text-center">
									<div class="input-group-btn">
										<button class="btn btn-sm btn-primary btn-plus" 
											ng-click="update_gh(item.maGioHang,item.maNd,item.maSp,item.soLuong+1,item.nguoiDung,item.sanPham)">
											<i class="fa fa-plus"></i>
										</button>
									</div>
								</div>
							</td>
							<td class="align-middle">{{item.soLuong*item.sanPham.giaTien|number:2}} VND</td>
							<td class="align-middle"><button
									ng-click="cart.remove(item.id)">
									<i class="fa fa-times"></i>
								</button></td>
						</tr>
					</tbody>
				</table>
			</div>
			<div class="col-lg-4">
				<form class="mb-30" action="">
					<div class="input-group">
						<input type="text" class="form-control border-0 p-4"
							placeholder="Mã Giảm Giá">
						<div class="input-group-append">
							<button class="btn btn-primary">Áp Dụng Mã Giảm Giá</button>
						</div>
					</div>
				</form>
				<h5 class="section-title position-relative text-uppercase mb-3">
					<span class="bg-secondary pr-3">Tóm Tắt Giỏ Hàng</span>
				</h5>
				<div class="bg-light p-30 mb-5">
					<div class="border-bottom pb-2">
						<div class="d-flex justify-content-between mb-3">
							<h6>Tạm Tính</h6>
							<h6>$150</h6>
						</div>
						<div class="d-flex justify-content-between">
							<h6 class="font-weight-medium">Vận Chuyển</h6>
							<h6 class="font-weight-medium">$10</h6>
						</div>
					</div>
					<div class="pt-2">
						<div class="d-flex justify-content-between mt-2">
							<h5>Tổng Cộng</h5>
							<h5>$160</h5>
						</div>
						<a th:href="@{/order/checkout}"
							class="btn btn-block btn-primary font-weight-bold my-3 py-3">Tiến
							Hành Thanh Toán</a>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- Cart End -->
</body>
</html>